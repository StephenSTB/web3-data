{
  "contractName": "Fees",
  "abi": [
    {
      "inputs": [],
      "name": "ERC20TransferFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FeeNotDynamic",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FeeTooLarge",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidCaller",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NativeTransferFailed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ProtocolFeeCannotBeFetched",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "oldOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnerChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "protocolFeeController",
          "type": "address"
        }
      ],
      "name": "ProtocolFeeControllerUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "MAX_SWAP_FEE",
      "outputs": [
        {
          "internalType": "uint24",
          "name": "",
          "type": "uint24"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_PROTOCOL_FEE_DENOMINATOR",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "hookAddress",
          "type": "address"
        },
        {
          "internalType": "Currency",
          "name": "currency",
          "type": "address"
        }
      ],
      "name": "hookFeesAccrued",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "protocolFeeController",
      "outputs": [
        {
          "internalType": "contract IProtocolFeeController",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "Currency",
          "name": "currency",
          "type": "address"
        }
      ],
      "name": "protocolFeesAccrued",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        }
      ],
      "name": "setOwner",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IProtocolFeeController",
          "name": "controller",
          "type": "address"
        }
      ],
      "name": "setProtocolFeeController",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "Currency",
          "name": "currency",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "collectProtocolFees",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amountCollected",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "Currency",
          "name": "currency",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "collectHookFees",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amountCollected",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"ERC20TransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FeeNotDynamic\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FeeTooLarge\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidCaller\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NativeTransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ProtocolFeeCannotBeFetched\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnerChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"protocolFeeController\",\"type\":\"address\"}],\"name\":\"ProtocolFeeControllerUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MAX_SWAP_FEE\",\"outputs\":[{\"internalType\":\"uint24\",\"name\":\"\",\"type\":\"uint24\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_PROTOCOL_FEE_DENOMINATOR\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"collectHookFees\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountCollected\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"collectProtocolFees\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountCollected\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"hookAddress\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"}],\"name\":\"hookFeesAccrued\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"protocolFeeController\",\"outputs\":[{\"internalType\":\"contract IProtocolFeeController\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"}],\"name\":\"protocolFeesAccrued\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"setOwner\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IProtocolFeeController\",\"name\":\"controller\",\"type\":\"address\"}],\"name\":\"setProtocolFeeController\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"OwnerChanged(address,address)\":{\"params\":{\"newOwner\":\"The owner after the owner was changed\",\"oldOwner\":\"The owner before the owner was changed\"}}},\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"errors\":{\"ERC20TransferFailed()\":[{\"notice\":\"Thrown when an ERC20 transfer fails\"}],\"FeeNotDynamic()\":[{\"notice\":\"Thrown when a pool does not have a dynamic fee.\"}],\"FeeTooLarge()\":[{\"notice\":\"Thrown when the protocol fee denominator is less than 4. Also thrown when the static or dynamic fee on a pool is exceeds 100%.\"}],\"NativeTransferFailed()\":[{\"notice\":\"Thrown when a native transfer fails\"}],\"ProtocolFeeCannotBeFetched()\":[{\"notice\":\"Thrown when not enough gas is provided to look up the protocol fee\"}]},\"events\":{\"OwnerChanged(address,address)\":{\"notice\":\"Emitted when the owner of the factory is changed\"}},\"kind\":\"user\",\"methods\":{\"MIN_PROTOCOL_FEE_DENOMINATOR()\":{\"notice\":\"Returns the minimum denominator for the protocol fee, which restricts it to a maximum of 25%\"},\"hookFeesAccrued(address,address)\":{\"notice\":\"Given a hook and a currency address, returns the fees accrued\"},\"protocolFeesAccrued(address)\":{\"notice\":\"Given a currency address, returns the protocol fees accrued in that currency\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"project:/contracts/v4-core/src/Fees.sol\":\"Fees\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"project:/contracts/v4-core/src/Fees.sol\":{\"keccak256\":\"0x6c998aa477d8bbcdf23dd0e2450a4d3bd02241c32d511bc1ff22f4201b7fbef1\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://8b73b18351d859d512876c1abbebe2f31bd033406838012c7eceec138cc52b66\",\"dweb:/ipfs/QmPCCQ1WfoWrpmfvL13XRThkb6CyGeGqZ5y3ycVbQ3vmac\"]},\"project:/contracts/v4-core/src/Owned.sol\":{\"keccak256\":\"0x0109d375f0df894818365069e711e88bb8b6b315a867cac951f22bafeedacd64\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://70a4c8c612f849c2bf337ab69887609259f500c96d791496176533f5956ecaff\",\"dweb:/ipfs/QmUe6BLMxxdbr39r7YFZAeXyiCPRNnXjntekgHCzfHnYKd\"]},\"project:/contracts/v4-core/src/interfaces/IClaims.sol\":{\"keccak256\":\"0xdf74a92ef73ec38d1f3fdb83a217a805fee5a9e8d50a079d429dcdf88728a1e9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d4f73e8176929eed516327517ca2d37804348e6073d5b50b5a1396337f089281\",\"dweb:/ipfs/QmWdk99E4PtBBSLe39qPRacFDK52avHN65XAN12CYbCGpU\"]},\"project:/contracts/v4-core/src/interfaces/IDynamicFeeManager.sol\":{\"keccak256\":\"0x043d635da3ce5f249f4acd74cb2badbcb5c2b2e5136e4cd8393d6aa5d59c46e7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://442efca7ad055d7249afab1d9e31f7e2d8b0a24b62bb0e55ab94348c152f5965\",\"dweb:/ipfs/QmaXWB7s5yWRWA8tgcrTHR96Kvmj3PfY7bUgQcqoTNoejt\"]},\"project:/contracts/v4-core/src/interfaces/IFees.sol\":{\"keccak256\":\"0x7a2d2b74602f23a8944b45c745e8a512f7d8f00f8ba22742636abaf929379697\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ab38548046bb65d089fd56b335a3b98d2b4f03e9af4763c2b7da2b04322a6e73\",\"dweb:/ipfs/QmVQfsaSwqV8ynqc9KEGWjQkxnAzju7uQQaFvxqhAd32cW\"]},\"project:/contracts/v4-core/src/interfaces/IHookFeeManager.sol\":{\"keccak256\":\"0x62873d5cdfadef590908e8ba3a3e48441f0e9a6c4e15718288ff8e17da316cbd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5e1206bca2f5227b07a8de05bc679564ce8e7c6049f94960e91e08cece4a4360\",\"dweb:/ipfs/QmThCu96pnudtJJhRCSLKnvTZhsFCvAGPC64hvqLxm9BCX\"]},\"project:/contracts/v4-core/src/interfaces/IHooks.sol\":{\"keccak256\":\"0xc8b2ff0889b0866f84a4a4f06702b92ac08e3a5e2a6048e09dcbba8d58297002\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4614b2c046f2521dc7f39496cd77af787184189f9e23f65086ac89515826190c\",\"dweb:/ipfs/QmdVEVCfz1wJq5zWnvRsKKCUniwYbDUdWf8NWYukCaXe54\"]},\"project:/contracts/v4-core/src/interfaces/IPoolManager.sol\":{\"keccak256\":\"0xb68e18109027f3d40cf922f861c41c149124b5007a428a6476b8f45ed8642845\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://92ab2915861fca8823d53011b16c0dfb7bf5115cc89d8acbbf7f83b12f0974e4\",\"dweb:/ipfs/QmdxDzSn4qm1utvSgTWNioieheDCYLJpWe576YoBhAEbXm\"]},\"project:/contracts/v4-core/src/interfaces/IProtocolFeeController.sol\":{\"keccak256\":\"0xd30010960f5f0de6a81b95a9a3e733d6d8e06cf09d87bdf26129c286c2ca4ee6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b9b3420f8393f20ecf3cb432d4d2f4350fee457191c35f60b75214ed38a194d5\",\"dweb:/ipfs/QmSfS2U51ttBYtPgDdmPrfPR2BXAuJ99j1uQXTjRoAALe5\"]},\"project:/contracts/v4-core/src/interfaces/external/IERC20Minimal.sol\":{\"keccak256\":\"0x8dc5ee72426906aeb12f4ae6a2426df059491739bd5cbdb8ea4a3e26970436c6\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://f7e30dbbc972cb78d169c8845d6210d27490c8534e68a20d4f296b11ec727b92\",\"dweb:/ipfs/QmXBvaWaAnPW25YGVm2sMbf5mwrzLapUcqPnrNiiGGXxmA\"]},\"project:/contracts/v4-core/src/libraries/BitMath.sol\":{\"keccak256\":\"0x652cd36970d953b3067c766b3b0c0063d4c403eba7352df09ec10dcc868910d9\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://e357b092171edb755c8514b4b4ae758a8b43458c7a23409ebf5afd325fefa2be\",\"dweb:/ipfs/QmWKRWT2z15cVbVVDkjqdVnpf8Ck1jytcXbA7zCUevp7b6\"]},\"project:/contracts/v4-core/src/libraries/FeeLibrary.sol\":{\"keccak256\":\"0x9fc00b77978b617d1a9b5c9d024210b43ee5455682982703d3009bfafc1c12b4\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://777acadfdbd1b3c01aa780b2dff49771ae6189e421b7e23be38c2db75b9c1267\",\"dweb:/ipfs/QmUR443r39JFuYjLi6zCWnW7r15u1gbmkuEd6e43Br4gyL\"]},\"project:/contracts/v4-core/src/libraries/FixedPoint128.sol\":{\"keccak256\":\"0x1f015a7a107f4c471985a958f1bfbc1710948f9bcd3786a02310bc0ad5080c69\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://a1cacac08675284f319d151f6bc5d1c66cf1d54c5dad1c620a2e1e1336cbb93a\",\"dweb:/ipfs/QmPf8vQ3mBqniKHwvS1DDEFrV5dJfZSL6mMi9JVy6omQaz\"]},\"project:/contracts/v4-core/src/libraries/FixedPoint96.sol\":{\"keccak256\":\"0x7731aeeba692b0ca5dac8f27803ec9e5ce98795a554c09ae05c220861bd0314e\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://963a8155e442d31c4541c387d333db0c02941ae3517e9173ad30ebcb4f6a14e9\",\"dweb:/ipfs/QmevAr8oG4WSoi5gBqQ53VzBuFbDKoZHfJwjuTmVhzm8Tc\"]},\"project:/contracts/v4-core/src/libraries/FullMath.sol\":{\"keccak256\":\"0x6d8760794ed38264579c5da7b2afe8ff5543de999180850bc08687b77dce36ea\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0e72da6f868ba5f5c829f78f649286c6b5922a8cda0317dfbb156b8a4d27fb24\",\"dweb:/ipfs/QmUQDZciNFhy4AFGXfYvoy22ihPc7ehvypeRVQwvVcD3vJ\"]},\"project:/contracts/v4-core/src/libraries/Pool.sol\":{\"keccak256\":\"0x4b4bbb00df0b43e296430d4088f719093dcbd16327c472af95c2b4ad84a9b78d\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://cc04d99d71e367fa8e2b3ab584e62c06604804b861aa8df69500b096755ce72d\",\"dweb:/ipfs/QmTJDRNjkXRD6ePSyG26Hfk5pNSNRu58CyYTBsc35kRX3e\"]},\"project:/contracts/v4-core/src/libraries/Position.sol\":{\"keccak256\":\"0x1319e4c172e31427c3b3521dd3c9c9c3949da22e25c9919ae57c47a8c9328e43\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://1e0885e8e035681836fe02213e165d1ab48cf2488cf6ba8f01964b4b026d2b46\",\"dweb:/ipfs/QmR4W3DZYYvctASLFnm7Sf4wk2L77gwNRrTS2mBqtiUaud\"]},\"project:/contracts/v4-core/src/libraries/SafeCast.sol\":{\"keccak256\":\"0x197985a64d2ccf38a5e6a80cf70dc345594cc7296a2364b7447e553966ed89dc\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://05c0f4aa083eb721febe1d23a1f55ced942eab0072318cb919c5fa42d0553042\",\"dweb:/ipfs/QmV1DBPTynduQnC9T5Ad87jHLZfevMkBQPFjPTMtstJgeN\"]},\"project:/contracts/v4-core/src/libraries/SqrtPriceMath.sol\":{\"keccak256\":\"0xe54bb39a96f98df7b8d36fade6b95bc866e138594b146ef0d4cee4e542170058\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://a3e737e963339141ba91a2a11d635e7ffe9ed901325579094aa4ac76b435314a\",\"dweb:/ipfs/QmVQ5ENKDBNJEM6kgLi8FwifxbAW4xj2riknTWfnox79ZR\"]},\"project:/contracts/v4-core/src/libraries/SwapMath.sol\":{\"keccak256\":\"0xac5b75b36ff928e88cbec828bdc9db03e681cc3b337d5d7f6be9fd617b3fef7f\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://6aaea2ecabdb3fec93c7c6be19ea3a034cf396a59ab96f61c57b5214c04b5a6e\",\"dweb:/ipfs/QmYyd4ExT6xbvEHZTQBv9nZuvU6xjB6EN4uY8TmK8Tceqv\"]},\"project:/contracts/v4-core/src/libraries/TickBitmap.sol\":{\"keccak256\":\"0x7cccb8dff4c76da872a827f1549dc44cdff384d123e77a5361a02a31902bf15c\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://88f850cd5bd2bbada4d9514f2516804392c7b23dc2cb541b74e9c88d0a351dcd\",\"dweb:/ipfs/QmZh9LvKUG23oFUZXAAa5gn77MguAbZ41VGjkES5U8N9Em\"]},\"project:/contracts/v4-core/src/libraries/TickMath.sol\":{\"keccak256\":\"0xc7e49d8f58765e4d586f943b782f3b11b5330864ffc273494420f268dc3b34a8\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://12a96f136f09a15af9f4484f23782097a7233fb0658f12ebc94873d91bc7eba3\",\"dweb:/ipfs/Qmc7W5Ff9Tmnd6daXeqGjgcfritarGxRrqSSCYzZ1pZ2yZ\"]},\"project:/contracts/v4-core/src/libraries/UnsafeMath.sol\":{\"keccak256\":\"0x2a8cb75af05f8557b698b089a0ab19e24279fffb7e87cddf5794404c7eaf1c69\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://85f68e6d614205f3f0f55f6ac41805e3a7d523d95bda1c443f2e75444443ffe3\",\"dweb:/ipfs/QmdCheMqxWNx4CbxG5MH9BUQeSMeeXF6DHkf7Aax4duRUe\"]},\"project:/contracts/v4-core/src/types/BalanceDelta.sol\":{\"keccak256\":\"0xb348472d6a9050f8e162173712911896882939a0cd7316db386ced5182716845\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://10db8d83e74b6cabcf71f0325d16e9c919c66ba4e41ab58a280b432f8b9ea6e4\",\"dweb:/ipfs/QmNWQJQqCrp9QWzbdBivkYBX6tfEgobkGYhoCxvoX3ZtKg\"]},\"project:/contracts/v4-core/src/types/Currency.sol\":{\"keccak256\":\"0xb1395e2817b604745bf6cd41821aafeaaa252caafe45133e54f02d6f6be13d2b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://49ec58bd7634ccb1b74f59378e54771ae11cba37494b57ae64e3f6640d4afdd9\",\"dweb:/ipfs/QmeYL1TuGXcTYfsQBGu7p9urSqGjiJky8iJAgwTRYqrJ4F\"]},\"project:/contracts/v4-core/src/types/PoolId.sol\":{\"keccak256\":\"0x2928a23cdf4c3dd05fafd3094020723954150901c6935a40fbb8e3cbc1e0ebe3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4ddde47e0eda04cf7e1b8e903eafd22ff19866bcb2ce0f61b46a3470b4dc9927\",\"dweb:/ipfs/Qme84u2nmVFZkaBSwVJw3bhZSqt6P9xMHNsp1Y7ddWMDvi\"]},\"project:/contracts/v4-core/src/types/PoolKey.sol\":{\"keccak256\":\"0xef7421713157a514d757863e99c2d094a6fac1dcbae602ac0eb47eda2d651a6d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d2832668ba213b3928fd79e159b4d00b4b8f057844e2897902ec089014470f29\",\"dweb:/ipfs/QmV2MESks8RiTwRJpqynGCGsrmXKimRFpQFZSBXnxEiXKX\"]}},\"version\":1}",
  "bytecode": "0x",
  "deployedBytecode": "0x",
  "immutableReferences": {},
  "generatedSources": [],
  "deployedGeneratedSources": [],
  "sourceMap": "",
  "deployedSourceMap": "",
  "source": "// SPDX-License-Identifier: GPL-2.0-or-later\npragma solidity ^0.8.19;\n\nimport {Currency, CurrencyLibrary} from \"./types/Currency.sol\";\nimport {IProtocolFeeController} from \"./interfaces/IProtocolFeeController.sol\";\nimport {IHookFeeManager} from \"./interfaces/IHookFeeManager.sol\";\nimport {IFees} from \"./interfaces/IFees.sol\";\nimport {FeeLibrary} from \"./libraries/FeeLibrary.sol\";\nimport {Pool} from \"./libraries/Pool.sol\";\nimport {PoolKey} from \"./types/PoolKey.sol\";\nimport {Owned} from \"./Owned.sol\";\nimport {IDynamicFeeManager} from \"./interfaces/IDynamicFeeManager.sol\";\n\nabstract contract Fees is IFees, Owned {\n    using FeeLibrary for uint24;\n    using CurrencyLibrary for Currency;\n\n    uint8 public constant MIN_PROTOCOL_FEE_DENOMINATOR = 4;\n\n    // the swap fee is represented in hundredths of a bip, so the max is 100%\n    uint24 public constant MAX_SWAP_FEE = 1000000;\n\n    mapping(Currency currency => uint256) public protocolFeesAccrued;\n\n    mapping(address hookAddress => mapping(Currency currency => uint256)) public hookFeesAccrued;\n\n    IProtocolFeeController public protocolFeeController;\n\n    uint256 private immutable controllerGasLimit;\n\n    constructor(uint256 _controllerGasLimit) {\n        controllerGasLimit = _controllerGasLimit;\n    }\n\n    function _fetchProtocolFees(PoolKey memory key) internal view returns (uint24 protocolFees) {\n        uint16 protocolSwapFee;\n        uint16 protocolWithdrawFee;\n        if (address(protocolFeeController) != address(0)) {\n            // note that EIP-150 mandates that calls requesting more than 63/64ths of remaining gas\n            // will be allotted no more than this amount, so controllerGasLimit must be set with this\n            // in mind.\n            if (gasleft() < controllerGasLimit) revert ProtocolFeeCannotBeFetched();\n            try protocolFeeController.protocolFeesForPool{gas: controllerGasLimit}(key) returns (\n                uint24 updatedProtocolFees\n            ) {\n                protocolSwapFee = uint16(updatedProtocolFees >> 12);\n                protocolWithdrawFee = uint16(updatedProtocolFees & 0xFFF);\n\n                protocolFees = updatedProtocolFees;\n            } catch {}\n            _checkProtocolFee(protocolSwapFee);\n            _checkProtocolFee(protocolWithdrawFee);\n        }\n    }\n\n    /// @notice There is no cap on the hook fee, but it is specified as a percentage taken on the amount after the protocol fee is applied, if there is a protocol fee.\n    function _fetchHookFees(PoolKey memory key) internal view returns (uint24 hookFees) {\n        if (address(key.hooks) != address(0)) {\n            try IHookFeeManager(address(key.hooks)).getHookFees(key) returns (uint24 hookFeesRaw) {\n                uint24 swapFeeMask = key.fee.hasHookSwapFee() ? 0xFFF000 : 0;\n                uint24 withdrawFeeMask = key.fee.hasHookWithdrawFee() ? 0xFFF : 0;\n                uint24 fullFeeMask = swapFeeMask | withdrawFeeMask;\n                hookFees = hookFeesRaw & fullFeeMask;\n            } catch {}\n        }\n    }\n\n    function _fetchDynamicSwapFee(PoolKey memory key) internal view returns (uint24 dynamicSwapFee) {\n        dynamicSwapFee = IDynamicFeeManager(address(key.hooks)).getFee(msg.sender, key);\n        if (dynamicSwapFee >= MAX_SWAP_FEE) revert FeeTooLarge();\n    }\n\n    /// @dev Only the lower 12 bits are used here to encode the fee denominator.\n    function _checkProtocolFee(uint16 fee) internal pure {\n        if (fee != 0) {\n            uint16 fee0 = fee % 64;\n            uint16 fee1 = fee >> 6;\n            // The fee is specified as a denominator so it cannot be LESS than the MIN_PROTOCOL_FEE_DENOMINATOR (unless it is 0).\n            if (\n                (fee0 != 0 && fee0 < MIN_PROTOCOL_FEE_DENOMINATOR) || (fee1 != 0 && fee1 < MIN_PROTOCOL_FEE_DENOMINATOR)\n            ) {\n                revert FeeTooLarge();\n            }\n        }\n    }\n\n    function setProtocolFeeController(IProtocolFeeController controller) external onlyOwner {\n        protocolFeeController = controller;\n        emit ProtocolFeeControllerUpdated(address(controller));\n    }\n\n    function collectProtocolFees(address recipient, Currency currency, uint256 amount)\n        external\n        returns (uint256 amountCollected)\n    {\n        if (msg.sender != owner && msg.sender != address(protocolFeeController)) revert InvalidCaller();\n\n        amountCollected = (amount == 0) ? protocolFeesAccrued[currency] : amount;\n        protocolFeesAccrued[currency] -= amountCollected;\n        currency.transfer(recipient, amountCollected);\n    }\n\n    function collectHookFees(address recipient, Currency currency, uint256 amount)\n        external\n        returns (uint256 amountCollected)\n    {\n        address hookAddress = msg.sender;\n\n        amountCollected = (amount == 0) ? hookFeesAccrued[hookAddress][currency] : amount;\n        recipient = (recipient == address(0)) ? hookAddress : recipient;\n\n        hookFeesAccrued[hookAddress][currency] -= amountCollected;\n        currency.transfer(recipient, amountCollected);\n    }\n}\n",
  "sourcePath": "/home/stephensb/sb-labs/solidity-contracts/contracts/v4-core/src/Fees.sol",
  "ast": {
    "absolutePath": "project:/contracts/v4-core/src/Fees.sol",
    "exportedSymbols": {
      "Currency": [
        14262
      ],
      "CurrencyLibrary": [
        14533
      ],
      "FeeLibrary": [
        9328
      ],
      "Fees": [
        6655
      ],
      "IDynamicFeeManager": [
        8270
      ],
      "IFees": [
        8314
      ],
      "IHookFeeManager": [
        8329
      ],
      "IProtocolFeeController": [
        8881
      ],
      "Owned": [
        6761
      ],
      "Pool": [
        12135
      ],
      "PoolKey": [
        14587
      ]
    },
    "id": 6656,
    "license": "GPL-2.0-or-later",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 6230,
        "literals": [
          "solidity",
          "^",
          "0.8",
          ".19"
        ],
        "nodeType": "PragmaDirective",
        "src": "45:24:27"
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/types/Currency.sol",
        "file": "./types/Currency.sol",
        "id": 6233,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 14534,
        "src": "71:63:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6231,
              "name": "Currency",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 14262,
              "src": "79:8:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          },
          {
            "foreign": {
              "id": 6232,
              "name": "CurrencyLibrary",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 14533,
              "src": "89:15:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/interfaces/IProtocolFeeController.sol",
        "file": "./interfaces/IProtocolFeeController.sol",
        "id": 6235,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 8882,
        "src": "135:79:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6234,
              "name": "IProtocolFeeController",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 8881,
              "src": "143:22:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/interfaces/IHookFeeManager.sol",
        "file": "./interfaces/IHookFeeManager.sol",
        "id": 6237,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 8330,
        "src": "215:65:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6236,
              "name": "IHookFeeManager",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 8329,
              "src": "223:15:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/interfaces/IFees.sol",
        "file": "./interfaces/IFees.sol",
        "id": 6239,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 8315,
        "src": "281:45:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6238,
              "name": "IFees",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 8314,
              "src": "289:5:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/libraries/FeeLibrary.sol",
        "file": "./libraries/FeeLibrary.sol",
        "id": 6241,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 9329,
        "src": "327:54:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6240,
              "name": "FeeLibrary",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 9328,
              "src": "335:10:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/libraries/Pool.sol",
        "file": "./libraries/Pool.sol",
        "id": 6243,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 12136,
        "src": "382:42:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6242,
              "name": "Pool",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 12135,
              "src": "390:4:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/types/PoolKey.sol",
        "file": "./types/PoolKey.sol",
        "id": 6245,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 14588,
        "src": "425:44:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6244,
              "name": "PoolKey",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 14587,
              "src": "433:7:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/Owned.sol",
        "file": "./Owned.sol",
        "id": 6247,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 6762,
        "src": "470:34:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6246,
              "name": "Owned",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 6761,
              "src": "478:5:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "project:/contracts/v4-core/src/interfaces/IDynamicFeeManager.sol",
        "file": "./interfaces/IDynamicFeeManager.sol",
        "id": 6249,
        "nameLocation": "-1:-1:-1",
        "nodeType": "ImportDirective",
        "scope": 6656,
        "sourceUnit": 8271,
        "src": "505:71:27",
        "symbolAliases": [
          {
            "foreign": {
              "id": 6248,
              "name": "IDynamicFeeManager",
              "nodeType": "Identifier",
              "overloadedDeclarations": [],
              "referencedDeclaration": 8270,
              "src": "513:18:27",
              "typeDescriptions": {}
            },
            "nameLocation": "-1:-1:-1"
          }
        ],
        "unitAlias": ""
      },
      {
        "abstract": true,
        "baseContracts": [
          {
            "baseName": {
              "id": 6250,
              "name": "IFees",
              "nameLocations": [
                "604:5:27"
              ],
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 8314,
              "src": "604:5:27"
            },
            "id": 6251,
            "nodeType": "InheritanceSpecifier",
            "src": "604:5:27"
          },
          {
            "baseName": {
              "id": 6252,
              "name": "Owned",
              "nameLocations": [
                "611:5:27"
              ],
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 6761,
              "src": "611:5:27"
            },
            "id": 6253,
            "nodeType": "InheritanceSpecifier",
            "src": "611:5:27"
          }
        ],
        "canonicalName": "Fees",
        "contractDependencies": [],
        "contractKind": "contract",
        "fullyImplemented": true,
        "id": 6655,
        "linearizedBaseContracts": [
          6655,
          6761,
          8314
        ],
        "name": "Fees",
        "nameLocation": "596:4:27",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "global": false,
            "id": 6256,
            "libraryName": {
              "id": 6254,
              "name": "FeeLibrary",
              "nameLocations": [
                "629:10:27"
              ],
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 9328,
              "src": "629:10:27"
            },
            "nodeType": "UsingForDirective",
            "src": "623:28:27",
            "typeName": {
              "id": 6255,
              "name": "uint24",
              "nodeType": "ElementaryTypeName",
              "src": "644:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint24",
                "typeString": "uint24"
              }
            }
          },
          {
            "global": false,
            "id": 6260,
            "libraryName": {
              "id": 6257,
              "name": "CurrencyLibrary",
              "nameLocations": [
                "662:15:27"
              ],
              "nodeType": "IdentifierPath",
              "referencedDeclaration": 14533,
              "src": "662:15:27"
            },
            "nodeType": "UsingForDirective",
            "src": "656:35:27",
            "typeName": {
              "id": 6259,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 6258,
                "name": "Currency",
                "nameLocations": [
                  "682:8:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 14262,
                "src": "682:8:27"
              },
              "referencedDeclaration": 14262,
              "src": "682:8:27",
              "typeDescriptions": {
                "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                "typeString": "Currency"
              }
            }
          },
          {
            "baseFunctions": [
              8293
            ],
            "constant": true,
            "functionSelector": "84e41c5e",
            "id": 6263,
            "mutability": "constant",
            "name": "MIN_PROTOCOL_FEE_DENOMINATOR",
            "nameLocation": "719:28:27",
            "nodeType": "VariableDeclaration",
            "scope": 6655,
            "src": "697:54:27",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint8",
              "typeString": "uint8"
            },
            "typeName": {
              "id": 6261,
              "name": "uint8",
              "nodeType": "ElementaryTypeName",
              "src": "697:5:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint8",
                "typeString": "uint8"
              }
            },
            "value": {
              "hexValue": "34",
              "id": 6262,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "750:1:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_4_by_1",
                "typeString": "int_const 4"
              },
              "value": "4"
            },
            "visibility": "public"
          },
          {
            "constant": true,
            "functionSelector": "ab3d8544",
            "id": 6266,
            "mutability": "constant",
            "name": "MAX_SWAP_FEE",
            "nameLocation": "859:12:27",
            "nodeType": "VariableDeclaration",
            "scope": 6655,
            "src": "836:45:27",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint24",
              "typeString": "uint24"
            },
            "typeName": {
              "id": 6264,
              "name": "uint24",
              "nodeType": "ElementaryTypeName",
              "src": "836:6:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint24",
                "typeString": "uint24"
              }
            },
            "value": {
              "hexValue": "31303030303030",
              "id": 6265,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "kind": "number",
              "lValueRequested": false,
              "nodeType": "Literal",
              "src": "874:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_1000000_by_1",
                "typeString": "int_const 1000000"
              },
              "value": "1000000"
            },
            "visibility": "public"
          },
          {
            "baseFunctions": [
              8302
            ],
            "constant": false,
            "functionSelector": "97e8cd4e",
            "id": 6271,
            "mutability": "mutable",
            "name": "protocolFeesAccrued",
            "nameLocation": "933:19:27",
            "nodeType": "VariableDeclaration",
            "scope": 6655,
            "src": "888:64:27",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$",
              "typeString": "mapping(Currency => uint256)"
            },
            "typeName": {
              "id": 6270,
              "keyName": "currency",
              "keyNameLocation": "905:8:27",
              "keyType": {
                "id": 6268,
                "nodeType": "UserDefinedTypeName",
                "pathNode": {
                  "id": 6267,
                  "name": "Currency",
                  "nameLocations": [
                    "896:8:27"
                  ],
                  "nodeType": "IdentifierPath",
                  "referencedDeclaration": 14262,
                  "src": "896:8:27"
                },
                "referencedDeclaration": 14262,
                "src": "896:8:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                  "typeString": "Currency"
                }
              },
              "nodeType": "Mapping",
              "src": "888:37:27",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$",
                "typeString": "mapping(Currency => uint256)"
              },
              "valueName": "",
              "valueNameLocation": "-1:-1:-1",
              "valueType": {
                "id": 6269,
                "name": "uint256",
                "nodeType": "ElementaryTypeName",
                "src": "917:7:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                }
              }
            },
            "visibility": "public"
          },
          {
            "baseFunctions": [
              8313
            ],
            "constant": false,
            "functionSelector": "b4c41939",
            "id": 6278,
            "mutability": "mutable",
            "name": "hookFeesAccrued",
            "nameLocation": "1036:15:27",
            "nodeType": "VariableDeclaration",
            "scope": 6655,
            "src": "959:92:27",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$_$",
              "typeString": "mapping(address => mapping(Currency => uint256))"
            },
            "typeName": {
              "id": 6277,
              "keyName": "hookAddress",
              "keyNameLocation": "975:11:27",
              "keyType": {
                "id": 6272,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "967:7:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "959:69:27",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$_$",
                "typeString": "mapping(address => mapping(Currency => uint256))"
              },
              "valueName": "",
              "valueNameLocation": "-1:-1:-1",
              "valueType": {
                "id": 6276,
                "keyName": "currency",
                "keyNameLocation": "1007:8:27",
                "keyType": {
                  "id": 6274,
                  "nodeType": "UserDefinedTypeName",
                  "pathNode": {
                    "id": 6273,
                    "name": "Currency",
                    "nameLocations": [
                      "998:8:27"
                    ],
                    "nodeType": "IdentifierPath",
                    "referencedDeclaration": 14262,
                    "src": "998:8:27"
                  },
                  "referencedDeclaration": 14262,
                  "src": "998:8:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                    "typeString": "Currency"
                  }
                },
                "nodeType": "Mapping",
                "src": "990:37:27",
                "typeDescriptions": {
                  "typeIdentifier": "t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$",
                  "typeString": "mapping(Currency => uint256)"
                },
                "valueName": "",
                "valueNameLocation": "-1:-1:-1",
                "valueType": {
                  "id": 6275,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "1019:7:27",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                }
              }
            },
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "f02de3b2",
            "id": 6281,
            "mutability": "mutable",
            "name": "protocolFeeController",
            "nameLocation": "1088:21:27",
            "nodeType": "VariableDeclaration",
            "scope": 6655,
            "src": "1058:51:27",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
              "typeString": "contract IProtocolFeeController"
            },
            "typeName": {
              "id": 6280,
              "nodeType": "UserDefinedTypeName",
              "pathNode": {
                "id": 6279,
                "name": "IProtocolFeeController",
                "nameLocations": [
                  "1058:22:27"
                ],
                "nodeType": "IdentifierPath",
                "referencedDeclaration": 8881,
                "src": "1058:22:27"
              },
              "referencedDeclaration": 8881,
              "src": "1058:22:27",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                "typeString": "contract IProtocolFeeController"
              }
            },
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 6283,
            "mutability": "immutable",
            "name": "controllerGasLimit",
            "nameLocation": "1142:18:27",
            "nodeType": "VariableDeclaration",
            "scope": 6655,
            "src": "1116:44:27",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 6282,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1116:7:27",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "visibility": "private"
          },
          {
            "body": {
              "id": 6292,
              "nodeType": "Block",
              "src": "1208:57:27",
              "statements": [
                {
                  "expression": {
                    "id": 6290,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 6288,
                      "name": "controllerGasLimit",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6283,
                      "src": "1218:18:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "id": 6289,
                      "name": "_controllerGasLimit",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6285,
                      "src": "1239:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "1218:40:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 6291,
                  "nodeType": "ExpressionStatement",
                  "src": "1218:40:27"
                }
              ]
            },
            "id": 6293,
            "implemented": true,
            "kind": "constructor",
            "modifiers": [],
            "name": "",
            "nameLocation": "-1:-1:-1",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 6286,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6285,
                  "mutability": "mutable",
                  "name": "_controllerGasLimit",
                  "nameLocation": "1187:19:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6293,
                  "src": "1179:27:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 6284,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1179:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1178:29:27"
            },
            "returnParameters": {
              "id": 6287,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1208:0:27"
            },
            "scope": 6655,
            "src": "1167:98:27",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 6370,
              "nodeType": "Block",
              "src": "1363:933:27",
              "statements": [
                {
                  "assignments": [
                    6302
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 6302,
                      "mutability": "mutable",
                      "name": "protocolSwapFee",
                      "nameLocation": "1380:15:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 6370,
                      "src": "1373:22:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint16",
                        "typeString": "uint16"
                      },
                      "typeName": {
                        "id": 6301,
                        "name": "uint16",
                        "nodeType": "ElementaryTypeName",
                        "src": "1373:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint16",
                          "typeString": "uint16"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 6303,
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1373:22:27"
                },
                {
                  "assignments": [
                    6305
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 6305,
                      "mutability": "mutable",
                      "name": "protocolWithdrawFee",
                      "nameLocation": "1412:19:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 6370,
                      "src": "1405:26:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint16",
                        "typeString": "uint16"
                      },
                      "typeName": {
                        "id": 6304,
                        "name": "uint16",
                        "nodeType": "ElementaryTypeName",
                        "src": "1405:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint16",
                          "typeString": "uint16"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 6306,
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1405:26:27"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "id": 6315,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "arguments": [
                        {
                          "id": 6309,
                          "name": "protocolFeeController",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 6281,
                          "src": "1453:21:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                            "typeString": "contract IProtocolFeeController"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                            "typeString": "contract IProtocolFeeController"
                          }
                        ],
                        "id": 6308,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "lValueRequested": false,
                        "nodeType": "ElementaryTypeNameExpression",
                        "src": "1445:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_address_$",
                          "typeString": "type(address)"
                        },
                        "typeName": {
                          "id": 6307,
                          "name": "address",
                          "nodeType": "ElementaryTypeName",
                          "src": "1445:7:27",
                          "typeDescriptions": {}
                        }
                      },
                      "id": 6310,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1445:30:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "!=",
                    "rightExpression": {
                      "arguments": [
                        {
                          "hexValue": "30",
                          "id": 6313,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "1487:1:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          }
                        ],
                        "id": 6312,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "lValueRequested": false,
                        "nodeType": "ElementaryTypeNameExpression",
                        "src": "1479:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_address_$",
                          "typeString": "type(address)"
                        },
                        "typeName": {
                          "id": 6311,
                          "name": "address",
                          "nodeType": "ElementaryTypeName",
                          "src": "1479:7:27",
                          "typeDescriptions": {}
                        }
                      },
                      "id": 6314,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1479:10:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "1445:44:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 6369,
                  "nodeType": "IfStatement",
                  "src": "1441:849:27",
                  "trueBody": {
                    "id": 6368,
                    "nodeType": "Block",
                    "src": "1491:799:27",
                    "statements": [
                      {
                        "condition": {
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 6319,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "arguments": [],
                            "expression": {
                              "argumentTypes": [],
                              "id": 6316,
                              "name": "gasleft",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4294967289,
                              "src": "1735:7:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_gasleft_view$__$returns$_t_uint256_$",
                                "typeString": "function () view returns (uint256)"
                              }
                            },
                            "id": 6317,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "nameLocations": [],
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "1735:9:27",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<",
                          "rightExpression": {
                            "id": 6318,
                            "name": "controllerGasLimit",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6283,
                            "src": "1747:18:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1735:30:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "id": 6323,
                        "nodeType": "IfStatement",
                        "src": "1731:71:27",
                        "trueBody": {
                          "errorCall": {
                            "arguments": [],
                            "expression": {
                              "argumentTypes": [],
                              "id": 6320,
                              "name": "ProtocolFeeCannotBeFetched",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 8280,
                              "src": "1774:26:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_error_pure$__$returns$_t_error_$",
                                "typeString": "function () pure returns (error)"
                              }
                            },
                            "id": 6321,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "nameLocations": [],
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "1774:28:27",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_error",
                              "typeString": "error"
                            }
                          },
                          "id": 6322,
                          "nodeType": "RevertStatement",
                          "src": "1767:35:27"
                        }
                      },
                      {
                        "clauses": [
                          {
                            "block": {
                              "id": 6355,
                              "nodeType": "Block",
                              "src": "1959:212:27",
                              "statements": [
                                {
                                  "expression": {
                                    "id": 6340,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "leftHandSide": {
                                      "id": 6333,
                                      "name": "protocolSwapFee",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 6302,
                                      "src": "1977:15:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint16",
                                        "typeString": "uint16"
                                      }
                                    },
                                    "nodeType": "Assignment",
                                    "operator": "=",
                                    "rightHandSide": {
                                      "arguments": [
                                        {
                                          "commonType": {
                                            "typeIdentifier": "t_uint24",
                                            "typeString": "uint24"
                                          },
                                          "id": 6338,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "leftExpression": {
                                            "id": 6336,
                                            "name": "updatedProtocolFees",
                                            "nodeType": "Identifier",
                                            "overloadedDeclarations": [],
                                            "referencedDeclaration": 6331,
                                            "src": "2002:19:27",
                                            "typeDescriptions": {
                                              "typeIdentifier": "t_uint24",
                                              "typeString": "uint24"
                                            }
                                          },
                                          "nodeType": "BinaryOperation",
                                          "operator": ">>",
                                          "rightExpression": {
                                            "hexValue": "3132",
                                            "id": 6337,
                                            "isConstant": false,
                                            "isLValue": false,
                                            "isPure": true,
                                            "kind": "number",
                                            "lValueRequested": false,
                                            "nodeType": "Literal",
                                            "src": "2025:2:27",
                                            "typeDescriptions": {
                                              "typeIdentifier": "t_rational_12_by_1",
                                              "typeString": "int_const 12"
                                            },
                                            "value": "12"
                                          },
                                          "src": "2002:25:27",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint24",
                                            "typeString": "uint24"
                                          }
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_uint24",
                                            "typeString": "uint24"
                                          }
                                        ],
                                        "id": 6335,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": true,
                                        "lValueRequested": false,
                                        "nodeType": "ElementaryTypeNameExpression",
                                        "src": "1995:6:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_type$_t_uint16_$",
                                          "typeString": "type(uint16)"
                                        },
                                        "typeName": {
                                          "id": 6334,
                                          "name": "uint16",
                                          "nodeType": "ElementaryTypeName",
                                          "src": "1995:6:27",
                                          "typeDescriptions": {}
                                        }
                                      },
                                      "id": 6339,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "typeConversion",
                                      "lValueRequested": false,
                                      "nameLocations": [],
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "1995:33:27",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint16",
                                        "typeString": "uint16"
                                      }
                                    },
                                    "src": "1977:51:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint16",
                                      "typeString": "uint16"
                                    }
                                  },
                                  "id": 6341,
                                  "nodeType": "ExpressionStatement",
                                  "src": "1977:51:27"
                                },
                                {
                                  "expression": {
                                    "id": 6349,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "leftHandSide": {
                                      "id": 6342,
                                      "name": "protocolWithdrawFee",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 6305,
                                      "src": "2046:19:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint16",
                                        "typeString": "uint16"
                                      }
                                    },
                                    "nodeType": "Assignment",
                                    "operator": "=",
                                    "rightHandSide": {
                                      "arguments": [
                                        {
                                          "commonType": {
                                            "typeIdentifier": "t_uint24",
                                            "typeString": "uint24"
                                          },
                                          "id": 6347,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "leftExpression": {
                                            "id": 6345,
                                            "name": "updatedProtocolFees",
                                            "nodeType": "Identifier",
                                            "overloadedDeclarations": [],
                                            "referencedDeclaration": 6331,
                                            "src": "2075:19:27",
                                            "typeDescriptions": {
                                              "typeIdentifier": "t_uint24",
                                              "typeString": "uint24"
                                            }
                                          },
                                          "nodeType": "BinaryOperation",
                                          "operator": "&",
                                          "rightExpression": {
                                            "hexValue": "3078464646",
                                            "id": 6346,
                                            "isConstant": false,
                                            "isLValue": false,
                                            "isPure": true,
                                            "kind": "number",
                                            "lValueRequested": false,
                                            "nodeType": "Literal",
                                            "src": "2097:5:27",
                                            "typeDescriptions": {
                                              "typeIdentifier": "t_rational_4095_by_1",
                                              "typeString": "int_const 4095"
                                            },
                                            "value": "0xFFF"
                                          },
                                          "src": "2075:27:27",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint24",
                                            "typeString": "uint24"
                                          }
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_uint24",
                                            "typeString": "uint24"
                                          }
                                        ],
                                        "id": 6344,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": true,
                                        "lValueRequested": false,
                                        "nodeType": "ElementaryTypeNameExpression",
                                        "src": "2068:6:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_type$_t_uint16_$",
                                          "typeString": "type(uint16)"
                                        },
                                        "typeName": {
                                          "id": 6343,
                                          "name": "uint16",
                                          "nodeType": "ElementaryTypeName",
                                          "src": "2068:6:27",
                                          "typeDescriptions": {}
                                        }
                                      },
                                      "id": 6348,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "typeConversion",
                                      "lValueRequested": false,
                                      "nameLocations": [],
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "2068:35:27",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint16",
                                        "typeString": "uint16"
                                      }
                                    },
                                    "src": "2046:57:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint16",
                                      "typeString": "uint16"
                                    }
                                  },
                                  "id": 6350,
                                  "nodeType": "ExpressionStatement",
                                  "src": "2046:57:27"
                                },
                                {
                                  "expression": {
                                    "id": 6353,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "leftHandSide": {
                                      "id": 6351,
                                      "name": "protocolFees",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 6299,
                                      "src": "2122:12:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      }
                                    },
                                    "nodeType": "Assignment",
                                    "operator": "=",
                                    "rightHandSide": {
                                      "id": 6352,
                                      "name": "updatedProtocolFees",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 6331,
                                      "src": "2137:19:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      }
                                    },
                                    "src": "2122:34:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint24",
                                      "typeString": "uint24"
                                    }
                                  },
                                  "id": 6354,
                                  "nodeType": "ExpressionStatement",
                                  "src": "2122:34:27"
                                }
                              ]
                            },
                            "errorName": "",
                            "id": 6356,
                            "nodeType": "TryCatchClause",
                            "parameters": {
                              "id": 6332,
                              "nodeType": "ParameterList",
                              "parameters": [
                                {
                                  "constant": false,
                                  "id": 6331,
                                  "mutability": "mutable",
                                  "name": "updatedProtocolFees",
                                  "nameLocation": "1925:19:27",
                                  "nodeType": "VariableDeclaration",
                                  "scope": 6356,
                                  "src": "1918:26:27",
                                  "stateVariable": false,
                                  "storageLocation": "default",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint24",
                                    "typeString": "uint24"
                                  },
                                  "typeName": {
                                    "id": 6330,
                                    "name": "uint24",
                                    "nodeType": "ElementaryTypeName",
                                    "src": "1918:6:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint24",
                                      "typeString": "uint24"
                                    }
                                  },
                                  "visibility": "internal"
                                }
                              ],
                              "src": "1900:58:27"
                            },
                            "src": "1892:279:27"
                          },
                          {
                            "block": {
                              "id": 6357,
                              "nodeType": "Block",
                              "src": "2178:2:27",
                              "statements": []
                            },
                            "errorName": "",
                            "id": 6358,
                            "nodeType": "TryCatchClause",
                            "src": "2172:8:27"
                          }
                        ],
                        "externalCall": {
                          "arguments": [
                            {
                              "id": 6328,
                              "name": "key",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 6296,
                              "src": "1887:3:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                "typeString": "struct PoolKey memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                "typeString": "struct PoolKey memory"
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                  "typeString": "struct PoolKey memory"
                                }
                              ],
                              "expression": {
                                "id": 6324,
                                "name": "protocolFeeController",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 6281,
                                "src": "1820:21:27",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                                  "typeString": "contract IProtocolFeeController"
                                }
                              },
                              "id": 6325,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberLocation": "1842:19:27",
                              "memberName": "protocolFeesForPool",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 8880,
                              "src": "1820:41:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_external_view$_t_struct$_PoolKey_$14587_memory_ptr_$returns$_t_uint24_$",
                                "typeString": "function (struct PoolKey memory) view external returns (uint24)"
                              }
                            },
                            "id": 6327,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "names": [
                              "gas"
                            ],
                            "nodeType": "FunctionCallOptions",
                            "options": [
                              {
                                "id": 6326,
                                "name": "controllerGasLimit",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 6283,
                                "src": "1867:18:27",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "src": "1820:66:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_external_view$_t_struct$_PoolKey_$14587_memory_ptr_$returns$_t_uint24_$gas",
                              "typeString": "function (struct PoolKey memory) view external returns (uint24)"
                            }
                          },
                          "id": 6329,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "1820:71:27",
                          "tryCall": true,
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint24",
                            "typeString": "uint24"
                          }
                        },
                        "id": 6359,
                        "nodeType": "TryStatement",
                        "src": "1816:364:27"
                      },
                      {
                        "expression": {
                          "arguments": [
                            {
                              "id": 6361,
                              "name": "protocolSwapFee",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 6302,
                              "src": "2211:15:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint16",
                                "typeString": "uint16"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_uint16",
                                "typeString": "uint16"
                              }
                            ],
                            "id": 6360,
                            "name": "_checkProtocolFee",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6520,
                            "src": "2193:17:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_uint16_$returns$__$",
                              "typeString": "function (uint16) pure"
                            }
                          },
                          "id": 6362,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2193:34:27",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 6363,
                        "nodeType": "ExpressionStatement",
                        "src": "2193:34:27"
                      },
                      {
                        "expression": {
                          "arguments": [
                            {
                              "id": 6365,
                              "name": "protocolWithdrawFee",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 6305,
                              "src": "2259:19:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint16",
                                "typeString": "uint16"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_uint16",
                                "typeString": "uint16"
                              }
                            ],
                            "id": 6364,
                            "name": "_checkProtocolFee",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6520,
                            "src": "2241:17:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_internal_pure$_t_uint16_$returns$__$",
                              "typeString": "function (uint16) pure"
                            }
                          },
                          "id": 6366,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2241:38:27",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 6367,
                        "nodeType": "ExpressionStatement",
                        "src": "2241:38:27"
                      }
                    ]
                  }
                }
              ]
            },
            "id": 6371,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "_fetchProtocolFees",
            "nameLocation": "1280:18:27",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 6297,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6296,
                  "mutability": "mutable",
                  "name": "key",
                  "nameLocation": "1314:3:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6371,
                  "src": "1299:18:27",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                    "typeString": "struct PoolKey"
                  },
                  "typeName": {
                    "id": 6295,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 6294,
                      "name": "PoolKey",
                      "nameLocations": [
                        "1299:7:27"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 14587,
                      "src": "1299:7:27"
                    },
                    "referencedDeclaration": 14587,
                    "src": "1299:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PoolKey_$14587_storage_ptr",
                      "typeString": "struct PoolKey"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1298:20:27"
            },
            "returnParameters": {
              "id": 6300,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6299,
                  "mutability": "mutable",
                  "name": "protocolFees",
                  "nameLocation": "1349:12:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6371,
                  "src": "1342:19:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint24",
                    "typeString": "uint24"
                  },
                  "typeName": {
                    "id": 6298,
                    "name": "uint24",
                    "nodeType": "ElementaryTypeName",
                    "src": "1342:6:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint24",
                      "typeString": "uint24"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "1341:21:27"
            },
            "scope": 6655,
            "src": "1271:1025:27",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 6442,
              "nodeType": "Block",
              "src": "2554:471:27",
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    },
                    "id": 6389,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "arguments": [
                        {
                          "expression": {
                            "id": 6382,
                            "name": "key",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6375,
                            "src": "2576:3:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                              "typeString": "struct PoolKey memory"
                            }
                          },
                          "id": 6383,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberLocation": "2580:5:27",
                          "memberName": "hooks",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 14586,
                          "src": "2576:9:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_IHooks_$8475",
                            "typeString": "contract IHooks"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_contract$_IHooks_$8475",
                            "typeString": "contract IHooks"
                          }
                        ],
                        "id": 6381,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "lValueRequested": false,
                        "nodeType": "ElementaryTypeNameExpression",
                        "src": "2568:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_address_$",
                          "typeString": "type(address)"
                        },
                        "typeName": {
                          "id": 6380,
                          "name": "address",
                          "nodeType": "ElementaryTypeName",
                          "src": "2568:7:27",
                          "typeDescriptions": {}
                        }
                      },
                      "id": 6384,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "2568:18:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "!=",
                    "rightExpression": {
                      "arguments": [
                        {
                          "hexValue": "30",
                          "id": 6387,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "2598:1:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          }
                        ],
                        "id": 6386,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "lValueRequested": false,
                        "nodeType": "ElementaryTypeNameExpression",
                        "src": "2590:7:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_address_$",
                          "typeString": "type(address)"
                        },
                        "typeName": {
                          "id": 6385,
                          "name": "address",
                          "nodeType": "ElementaryTypeName",
                          "src": "2590:7:27",
                          "typeDescriptions": {}
                        }
                      },
                      "id": 6388,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "2590:10:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "2568:32:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 6441,
                  "nodeType": "IfStatement",
                  "src": "2564:455:27",
                  "trueBody": {
                    "id": 6440,
                    "nodeType": "Block",
                    "src": "2602:417:27",
                    "statements": [
                      {
                        "clauses": [
                          {
                            "block": {
                              "id": 6435,
                              "nodeType": "Block",
                              "src": "2702:298:27",
                              "statements": [
                                {
                                  "assignments": [
                                    6404
                                  ],
                                  "declarations": [
                                    {
                                      "constant": false,
                                      "id": 6404,
                                      "mutability": "mutable",
                                      "name": "swapFeeMask",
                                      "nameLocation": "2727:11:27",
                                      "nodeType": "VariableDeclaration",
                                      "scope": 6435,
                                      "src": "2720:18:27",
                                      "stateVariable": false,
                                      "storageLocation": "default",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      },
                                      "typeName": {
                                        "id": 6403,
                                        "name": "uint24",
                                        "nodeType": "ElementaryTypeName",
                                        "src": "2720:6:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint24",
                                          "typeString": "uint24"
                                        }
                                      },
                                      "visibility": "internal"
                                    }
                                  ],
                                  "id": 6412,
                                  "initialValue": {
                                    "condition": {
                                      "arguments": [],
                                      "expression": {
                                        "argumentTypes": [],
                                        "expression": {
                                          "expression": {
                                            "id": 6405,
                                            "name": "key",
                                            "nodeType": "Identifier",
                                            "overloadedDeclarations": [],
                                            "referencedDeclaration": 6375,
                                            "src": "2741:3:27",
                                            "typeDescriptions": {
                                              "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                              "typeString": "struct PoolKey memory"
                                            }
                                          },
                                          "id": 6406,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "memberLocation": "2745:3:27",
                                          "memberName": "fee",
                                          "nodeType": "MemberAccess",
                                          "referencedDeclaration": 14579,
                                          "src": "2741:7:27",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint24",
                                            "typeString": "uint24"
                                          }
                                        },
                                        "id": 6407,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "memberLocation": "2749:14:27",
                                        "memberName": "hasHookSwapFee",
                                        "nodeType": "MemberAccess",
                                        "referencedDeclaration": 9287,
                                        "src": "2741:22:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_function_internal_pure$_t_uint24_$returns$_t_bool_$attached_to$_t_uint24_$",
                                          "typeString": "function (uint24) pure returns (bool)"
                                        }
                                      },
                                      "id": 6408,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "functionCall",
                                      "lValueRequested": false,
                                      "nameLocations": [],
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "2741:24:27",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_bool",
                                        "typeString": "bool"
                                      }
                                    },
                                    "falseExpression": {
                                      "hexValue": "30",
                                      "id": 6410,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "number",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "2779:1:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_rational_0_by_1",
                                        "typeString": "int_const 0"
                                      },
                                      "value": "0"
                                    },
                                    "id": 6411,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "nodeType": "Conditional",
                                    "src": "2741:39:27",
                                    "trueExpression": {
                                      "hexValue": "3078464646303030",
                                      "id": 6409,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "number",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "2768:8:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_rational_16773120_by_1",
                                        "typeString": "int_const 16773120"
                                      },
                                      "value": "0xFFF000"
                                    },
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint24",
                                      "typeString": "uint24"
                                    }
                                  },
                                  "nodeType": "VariableDeclarationStatement",
                                  "src": "2720:60:27"
                                },
                                {
                                  "assignments": [
                                    6414
                                  ],
                                  "declarations": [
                                    {
                                      "constant": false,
                                      "id": 6414,
                                      "mutability": "mutable",
                                      "name": "withdrawFeeMask",
                                      "nameLocation": "2805:15:27",
                                      "nodeType": "VariableDeclaration",
                                      "scope": 6435,
                                      "src": "2798:22:27",
                                      "stateVariable": false,
                                      "storageLocation": "default",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      },
                                      "typeName": {
                                        "id": 6413,
                                        "name": "uint24",
                                        "nodeType": "ElementaryTypeName",
                                        "src": "2798:6:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint24",
                                          "typeString": "uint24"
                                        }
                                      },
                                      "visibility": "internal"
                                    }
                                  ],
                                  "id": 6422,
                                  "initialValue": {
                                    "condition": {
                                      "arguments": [],
                                      "expression": {
                                        "argumentTypes": [],
                                        "expression": {
                                          "expression": {
                                            "id": 6415,
                                            "name": "key",
                                            "nodeType": "Identifier",
                                            "overloadedDeclarations": [],
                                            "referencedDeclaration": 6375,
                                            "src": "2823:3:27",
                                            "typeDescriptions": {
                                              "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                              "typeString": "struct PoolKey memory"
                                            }
                                          },
                                          "id": 6416,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "memberLocation": "2827:3:27",
                                          "memberName": "fee",
                                          "nodeType": "MemberAccess",
                                          "referencedDeclaration": 14579,
                                          "src": "2823:7:27",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_uint24",
                                            "typeString": "uint24"
                                          }
                                        },
                                        "id": 6417,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "memberLocation": "2831:18:27",
                                        "memberName": "hasHookWithdrawFee",
                                        "nodeType": "MemberAccess",
                                        "referencedDeclaration": 9301,
                                        "src": "2823:26:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_function_internal_pure$_t_uint24_$returns$_t_bool_$attached_to$_t_uint24_$",
                                          "typeString": "function (uint24) pure returns (bool)"
                                        }
                                      },
                                      "id": 6418,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "functionCall",
                                      "lValueRequested": false,
                                      "nameLocations": [],
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "2823:28:27",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_bool",
                                        "typeString": "bool"
                                      }
                                    },
                                    "falseExpression": {
                                      "hexValue": "30",
                                      "id": 6420,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "number",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "2862:1:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_rational_0_by_1",
                                        "typeString": "int_const 0"
                                      },
                                      "value": "0"
                                    },
                                    "id": 6421,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "nodeType": "Conditional",
                                    "src": "2823:40:27",
                                    "trueExpression": {
                                      "hexValue": "3078464646",
                                      "id": 6419,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "kind": "number",
                                      "lValueRequested": false,
                                      "nodeType": "Literal",
                                      "src": "2854:5:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_rational_4095_by_1",
                                        "typeString": "int_const 4095"
                                      },
                                      "value": "0xFFF"
                                    },
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint16",
                                      "typeString": "uint16"
                                    }
                                  },
                                  "nodeType": "VariableDeclarationStatement",
                                  "src": "2798:65:27"
                                },
                                {
                                  "assignments": [
                                    6424
                                  ],
                                  "declarations": [
                                    {
                                      "constant": false,
                                      "id": 6424,
                                      "mutability": "mutable",
                                      "name": "fullFeeMask",
                                      "nameLocation": "2888:11:27",
                                      "nodeType": "VariableDeclaration",
                                      "scope": 6435,
                                      "src": "2881:18:27",
                                      "stateVariable": false,
                                      "storageLocation": "default",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      },
                                      "typeName": {
                                        "id": 6423,
                                        "name": "uint24",
                                        "nodeType": "ElementaryTypeName",
                                        "src": "2881:6:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint24",
                                          "typeString": "uint24"
                                        }
                                      },
                                      "visibility": "internal"
                                    }
                                  ],
                                  "id": 6428,
                                  "initialValue": {
                                    "commonType": {
                                      "typeIdentifier": "t_uint24",
                                      "typeString": "uint24"
                                    },
                                    "id": 6427,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "leftExpression": {
                                      "id": 6425,
                                      "name": "swapFeeMask",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 6404,
                                      "src": "2902:11:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      }
                                    },
                                    "nodeType": "BinaryOperation",
                                    "operator": "|",
                                    "rightExpression": {
                                      "id": 6426,
                                      "name": "withdrawFeeMask",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 6414,
                                      "src": "2916:15:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      }
                                    },
                                    "src": "2902:29:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint24",
                                      "typeString": "uint24"
                                    }
                                  },
                                  "nodeType": "VariableDeclarationStatement",
                                  "src": "2881:50:27"
                                },
                                {
                                  "expression": {
                                    "id": 6433,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "leftHandSide": {
                                      "id": 6429,
                                      "name": "hookFees",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 6378,
                                      "src": "2949:8:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      }
                                    },
                                    "nodeType": "Assignment",
                                    "operator": "=",
                                    "rightHandSide": {
                                      "commonType": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      },
                                      "id": 6432,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "leftExpression": {
                                        "id": 6430,
                                        "name": "hookFeesRaw",
                                        "nodeType": "Identifier",
                                        "overloadedDeclarations": [],
                                        "referencedDeclaration": 6401,
                                        "src": "2960:11:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint24",
                                          "typeString": "uint24"
                                        }
                                      },
                                      "nodeType": "BinaryOperation",
                                      "operator": "&",
                                      "rightExpression": {
                                        "id": 6431,
                                        "name": "fullFeeMask",
                                        "nodeType": "Identifier",
                                        "overloadedDeclarations": [],
                                        "referencedDeclaration": 6424,
                                        "src": "2974:11:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint24",
                                          "typeString": "uint24"
                                        }
                                      },
                                      "src": "2960:25:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint24",
                                        "typeString": "uint24"
                                      }
                                    },
                                    "src": "2949:36:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint24",
                                      "typeString": "uint24"
                                    }
                                  },
                                  "id": 6434,
                                  "nodeType": "ExpressionStatement",
                                  "src": "2949:36:27"
                                }
                              ]
                            },
                            "errorName": "",
                            "id": 6436,
                            "nodeType": "TryCatchClause",
                            "parameters": {
                              "id": 6402,
                              "nodeType": "ParameterList",
                              "parameters": [
                                {
                                  "constant": false,
                                  "id": 6401,
                                  "mutability": "mutable",
                                  "name": "hookFeesRaw",
                                  "nameLocation": "2689:11:27",
                                  "nodeType": "VariableDeclaration",
                                  "scope": 6436,
                                  "src": "2682:18:27",
                                  "stateVariable": false,
                                  "storageLocation": "default",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint24",
                                    "typeString": "uint24"
                                  },
                                  "typeName": {
                                    "id": 6400,
                                    "name": "uint24",
                                    "nodeType": "ElementaryTypeName",
                                    "src": "2682:6:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint24",
                                      "typeString": "uint24"
                                    }
                                  },
                                  "visibility": "internal"
                                }
                              ],
                              "src": "2681:20:27"
                            },
                            "src": "2673:327:27"
                          },
                          {
                            "block": {
                              "id": 6437,
                              "nodeType": "Block",
                              "src": "3007:2:27",
                              "statements": []
                            },
                            "errorName": "",
                            "id": 6438,
                            "nodeType": "TryCatchClause",
                            "src": "3001:8:27"
                          }
                        ],
                        "externalCall": {
                          "arguments": [
                            {
                              "id": 6398,
                              "name": "key",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 6375,
                              "src": "2668:3:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                "typeString": "struct PoolKey memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                "typeString": "struct PoolKey memory"
                              }
                            ],
                            "expression": {
                              "arguments": [
                                {
                                  "arguments": [
                                    {
                                      "expression": {
                                        "id": 6393,
                                        "name": "key",
                                        "nodeType": "Identifier",
                                        "overloadedDeclarations": [],
                                        "referencedDeclaration": 6375,
                                        "src": "2644:3:27",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                          "typeString": "struct PoolKey memory"
                                        }
                                      },
                                      "id": 6394,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "memberLocation": "2648:5:27",
                                      "memberName": "hooks",
                                      "nodeType": "MemberAccess",
                                      "referencedDeclaration": 14586,
                                      "src": "2644:9:27",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_contract$_IHooks_$8475",
                                        "typeString": "contract IHooks"
                                      }
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_contract$_IHooks_$8475",
                                        "typeString": "contract IHooks"
                                      }
                                    ],
                                    "id": 6392,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "nodeType": "ElementaryTypeNameExpression",
                                    "src": "2636:7:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_type$_t_address_$",
                                      "typeString": "type(address)"
                                    },
                                    "typeName": {
                                      "id": 6391,
                                      "name": "address",
                                      "nodeType": "ElementaryTypeName",
                                      "src": "2636:7:27",
                                      "typeDescriptions": {}
                                    }
                                  },
                                  "id": 6395,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "typeConversion",
                                  "lValueRequested": false,
                                  "nameLocations": [],
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "2636:18:27",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_address",
                                    "typeString": "address"
                                  }
                                ],
                                "id": 6390,
                                "name": "IHookFeeManager",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 8329,
                                "src": "2620:15:27",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_contract$_IHookFeeManager_$8329_$",
                                  "typeString": "type(contract IHookFeeManager)"
                                }
                              },
                              "id": 6396,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "nameLocations": [],
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "2620:35:27",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_contract$_IHookFeeManager_$8329",
                                "typeString": "contract IHookFeeManager"
                              }
                            },
                            "id": 6397,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberLocation": "2656:11:27",
                            "memberName": "getHookFees",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 8328,
                            "src": "2620:47:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_external_view$_t_struct$_PoolKey_$14587_memory_ptr_$returns$_t_uint24_$",
                              "typeString": "function (struct PoolKey memory) view external returns (uint24)"
                            }
                          },
                          "id": 6399,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "2620:52:27",
                          "tryCall": true,
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint24",
                            "typeString": "uint24"
                          }
                        },
                        "id": 6439,
                        "nodeType": "TryStatement",
                        "src": "2616:393:27"
                      }
                    ]
                  }
                }
              ]
            },
            "documentation": {
              "id": 6372,
              "nodeType": "StructuredDocumentation",
              "src": "2302:163:27",
              "text": "@notice There is no cap on the hook fee, but it is specified as a percentage taken on the amount after the protocol fee is applied, if there is a protocol fee."
            },
            "id": 6443,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "_fetchHookFees",
            "nameLocation": "2479:14:27",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 6376,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6375,
                  "mutability": "mutable",
                  "name": "key",
                  "nameLocation": "2509:3:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6443,
                  "src": "2494:18:27",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                    "typeString": "struct PoolKey"
                  },
                  "typeName": {
                    "id": 6374,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 6373,
                      "name": "PoolKey",
                      "nameLocations": [
                        "2494:7:27"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 14587,
                      "src": "2494:7:27"
                    },
                    "referencedDeclaration": 14587,
                    "src": "2494:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PoolKey_$14587_storage_ptr",
                      "typeString": "struct PoolKey"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2493:20:27"
            },
            "returnParameters": {
              "id": 6379,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6378,
                  "mutability": "mutable",
                  "name": "hookFees",
                  "nameLocation": "2544:8:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6443,
                  "src": "2537:15:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint24",
                    "typeString": "uint24"
                  },
                  "typeName": {
                    "id": 6377,
                    "name": "uint24",
                    "nodeType": "ElementaryTypeName",
                    "src": "2537:6:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint24",
                      "typeString": "uint24"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "2536:17:27"
            },
            "scope": 6655,
            "src": "2470:555:27",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 6473,
              "nodeType": "Block",
              "src": "3127:162:27",
              "statements": [
                {
                  "expression": {
                    "id": 6464,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 6451,
                      "name": "dynamicSwapFee",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6449,
                      "src": "3137:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint24",
                        "typeString": "uint24"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "arguments": [
                        {
                          "expression": {
                            "id": 6460,
                            "name": "msg",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4294967281,
                            "src": "3200:3:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_magic_message",
                              "typeString": "msg"
                            }
                          },
                          "id": 6461,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberLocation": "3204:6:27",
                          "memberName": "sender",
                          "nodeType": "MemberAccess",
                          "src": "3200:10:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        {
                          "id": 6462,
                          "name": "key",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 6446,
                          "src": "3212:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                            "typeString": "struct PoolKey memory"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          },
                          {
                            "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                            "typeString": "struct PoolKey memory"
                          }
                        ],
                        "expression": {
                          "arguments": [
                            {
                              "arguments": [
                                {
                                  "expression": {
                                    "id": 6455,
                                    "name": "key",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 6446,
                                    "src": "3181:3:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                                      "typeString": "struct PoolKey memory"
                                    }
                                  },
                                  "id": 6456,
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "memberLocation": "3185:5:27",
                                  "memberName": "hooks",
                                  "nodeType": "MemberAccess",
                                  "referencedDeclaration": 14586,
                                  "src": "3181:9:27",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_contract$_IHooks_$8475",
                                    "typeString": "contract IHooks"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_contract$_IHooks_$8475",
                                    "typeString": "contract IHooks"
                                  }
                                ],
                                "id": 6454,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "lValueRequested": false,
                                "nodeType": "ElementaryTypeNameExpression",
                                "src": "3173:7:27",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_address_$",
                                  "typeString": "type(address)"
                                },
                                "typeName": {
                                  "id": 6453,
                                  "name": "address",
                                  "nodeType": "ElementaryTypeName",
                                  "src": "3173:7:27",
                                  "typeDescriptions": {}
                                }
                              },
                              "id": 6457,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "nameLocations": [],
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "3173:18:27",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            ],
                            "id": 6452,
                            "name": "IDynamicFeeManager",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 8270,
                            "src": "3154:18:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_contract$_IDynamicFeeManager_$8270_$",
                              "typeString": "type(contract IDynamicFeeManager)"
                            }
                          },
                          "id": 6458,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "nameLocations": [],
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "3154:38:27",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_IDynamicFeeManager_$8270",
                            "typeString": "contract IDynamicFeeManager"
                          }
                        },
                        "id": 6459,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "3193:6:27",
                        "memberName": "getFee",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 8269,
                        "src": "3154:45:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_view$_t_address_$_t_struct$_PoolKey_$14587_memory_ptr_$returns$_t_uint24_$",
                          "typeString": "function (address,struct PoolKey memory) view external returns (uint24)"
                        }
                      },
                      "id": 6463,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3154:62:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint24",
                        "typeString": "uint24"
                      }
                    },
                    "src": "3137:79:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint24",
                      "typeString": "uint24"
                    }
                  },
                  "id": 6465,
                  "nodeType": "ExpressionStatement",
                  "src": "3137:79:27"
                },
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint24",
                      "typeString": "uint24"
                    },
                    "id": 6468,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 6466,
                      "name": "dynamicSwapFee",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6449,
                      "src": "3230:14:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint24",
                        "typeString": "uint24"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": ">=",
                    "rightExpression": {
                      "id": 6467,
                      "name": "MAX_SWAP_FEE",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6266,
                      "src": "3248:12:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint24",
                        "typeString": "uint24"
                      }
                    },
                    "src": "3230:30:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 6472,
                  "nodeType": "IfStatement",
                  "src": "3226:56:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 6469,
                        "name": "FeeTooLarge",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 8277,
                        "src": "3269:11:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$_t_error_$",
                          "typeString": "function () pure returns (error)"
                        }
                      },
                      "id": 6470,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3269:13:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_error",
                        "typeString": "error"
                      }
                    },
                    "id": 6471,
                    "nodeType": "RevertStatement",
                    "src": "3262:20:27"
                  }
                }
              ]
            },
            "id": 6474,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "_fetchDynamicSwapFee",
            "nameLocation": "3040:20:27",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 6447,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6446,
                  "mutability": "mutable",
                  "name": "key",
                  "nameLocation": "3076:3:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6474,
                  "src": "3061:18:27",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_PoolKey_$14587_memory_ptr",
                    "typeString": "struct PoolKey"
                  },
                  "typeName": {
                    "id": 6445,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 6444,
                      "name": "PoolKey",
                      "nameLocations": [
                        "3061:7:27"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 14587,
                      "src": "3061:7:27"
                    },
                    "referencedDeclaration": 14587,
                    "src": "3061:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_PoolKey_$14587_storage_ptr",
                      "typeString": "struct PoolKey"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3060:20:27"
            },
            "returnParameters": {
              "id": 6450,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6449,
                  "mutability": "mutable",
                  "name": "dynamicSwapFee",
                  "nameLocation": "3111:14:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6474,
                  "src": "3104:21:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint24",
                    "typeString": "uint24"
                  },
                  "typeName": {
                    "id": 6448,
                    "name": "uint24",
                    "nodeType": "ElementaryTypeName",
                    "src": "3104:6:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint24",
                      "typeString": "uint24"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3103:23:27"
            },
            "scope": 6655,
            "src": "3031:258:27",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 6519,
              "nodeType": "Block",
              "src": "3429:449:27",
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_uint16",
                      "typeString": "uint16"
                    },
                    "id": 6482,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "id": 6480,
                      "name": "fee",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6477,
                      "src": "3443:3:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint16",
                        "typeString": "uint16"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "!=",
                    "rightExpression": {
                      "hexValue": "30",
                      "id": 6481,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "3450:1:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "3443:8:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 6518,
                  "nodeType": "IfStatement",
                  "src": "3439:433:27",
                  "trueBody": {
                    "id": 6517,
                    "nodeType": "Block",
                    "src": "3453:419:27",
                    "statements": [
                      {
                        "assignments": [
                          6484
                        ],
                        "declarations": [
                          {
                            "constant": false,
                            "id": 6484,
                            "mutability": "mutable",
                            "name": "fee0",
                            "nameLocation": "3474:4:27",
                            "nodeType": "VariableDeclaration",
                            "scope": 6517,
                            "src": "3467:11:27",
                            "stateVariable": false,
                            "storageLocation": "default",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint16",
                              "typeString": "uint16"
                            },
                            "typeName": {
                              "id": 6483,
                              "name": "uint16",
                              "nodeType": "ElementaryTypeName",
                              "src": "3467:6:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint16",
                                "typeString": "uint16"
                              }
                            },
                            "visibility": "internal"
                          }
                        ],
                        "id": 6488,
                        "initialValue": {
                          "commonType": {
                            "typeIdentifier": "t_uint16",
                            "typeString": "uint16"
                          },
                          "id": 6487,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 6485,
                            "name": "fee",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6477,
                            "src": "3481:3:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint16",
                              "typeString": "uint16"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "%",
                          "rightExpression": {
                            "hexValue": "3634",
                            "id": 6486,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "3487:2:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_64_by_1",
                              "typeString": "int_const 64"
                            },
                            "value": "64"
                          },
                          "src": "3481:8:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint16",
                            "typeString": "uint16"
                          }
                        },
                        "nodeType": "VariableDeclarationStatement",
                        "src": "3467:22:27"
                      },
                      {
                        "assignments": [
                          6490
                        ],
                        "declarations": [
                          {
                            "constant": false,
                            "id": 6490,
                            "mutability": "mutable",
                            "name": "fee1",
                            "nameLocation": "3510:4:27",
                            "nodeType": "VariableDeclaration",
                            "scope": 6517,
                            "src": "3503:11:27",
                            "stateVariable": false,
                            "storageLocation": "default",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint16",
                              "typeString": "uint16"
                            },
                            "typeName": {
                              "id": 6489,
                              "name": "uint16",
                              "nodeType": "ElementaryTypeName",
                              "src": "3503:6:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint16",
                                "typeString": "uint16"
                              }
                            },
                            "visibility": "internal"
                          }
                        ],
                        "id": 6494,
                        "initialValue": {
                          "commonType": {
                            "typeIdentifier": "t_uint16",
                            "typeString": "uint16"
                          },
                          "id": 6493,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "id": 6491,
                            "name": "fee",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6477,
                            "src": "3517:3:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint16",
                              "typeString": "uint16"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": ">>",
                          "rightExpression": {
                            "hexValue": "36",
                            "id": 6492,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "3524:1:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_6_by_1",
                              "typeString": "int_const 6"
                            },
                            "value": "6"
                          },
                          "src": "3517:8:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint16",
                            "typeString": "uint16"
                          }
                        },
                        "nodeType": "VariableDeclarationStatement",
                        "src": "3503:22:27"
                      },
                      {
                        "condition": {
                          "commonType": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          "id": 6511,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "components": [
                              {
                                "commonType": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                "id": 6501,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "commonType": {
                                    "typeIdentifier": "t_uint16",
                                    "typeString": "uint16"
                                  },
                                  "id": 6497,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "id": 6495,
                                    "name": "fee0",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 6484,
                                    "src": "3691:4:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint16",
                                      "typeString": "uint16"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "!=",
                                  "rightExpression": {
                                    "hexValue": "30",
                                    "id": 6496,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "kind": "number",
                                    "lValueRequested": false,
                                    "nodeType": "Literal",
                                    "src": "3699:1:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_rational_0_by_1",
                                      "typeString": "int_const 0"
                                    },
                                    "value": "0"
                                  },
                                  "src": "3691:9:27",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "&&",
                                "rightExpression": {
                                  "commonType": {
                                    "typeIdentifier": "t_uint16",
                                    "typeString": "uint16"
                                  },
                                  "id": 6500,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "id": 6498,
                                    "name": "fee0",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 6484,
                                    "src": "3704:4:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint16",
                                      "typeString": "uint16"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "<",
                                  "rightExpression": {
                                    "id": 6499,
                                    "name": "MIN_PROTOCOL_FEE_DENOMINATOR",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 6263,
                                    "src": "3711:28:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint8",
                                      "typeString": "uint8"
                                    }
                                  },
                                  "src": "3704:35:27",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  }
                                },
                                "src": "3691:48:27",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                }
                              }
                            ],
                            "id": 6502,
                            "isConstant": false,
                            "isInlineArray": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "TupleExpression",
                            "src": "3690:50:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "||",
                          "rightExpression": {
                            "components": [
                              {
                                "commonType": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                "id": 6509,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "commonType": {
                                    "typeIdentifier": "t_uint16",
                                    "typeString": "uint16"
                                  },
                                  "id": 6505,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "id": 6503,
                                    "name": "fee1",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 6490,
                                    "src": "3745:4:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint16",
                                      "typeString": "uint16"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "!=",
                                  "rightExpression": {
                                    "hexValue": "30",
                                    "id": 6504,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "kind": "number",
                                    "lValueRequested": false,
                                    "nodeType": "Literal",
                                    "src": "3753:1:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_rational_0_by_1",
                                      "typeString": "int_const 0"
                                    },
                                    "value": "0"
                                  },
                                  "src": "3745:9:27",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "&&",
                                "rightExpression": {
                                  "commonType": {
                                    "typeIdentifier": "t_uint16",
                                    "typeString": "uint16"
                                  },
                                  "id": 6508,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "id": 6506,
                                    "name": "fee1",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 6490,
                                    "src": "3758:4:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint16",
                                      "typeString": "uint16"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": "<",
                                  "rightExpression": {
                                    "id": 6507,
                                    "name": "MIN_PROTOCOL_FEE_DENOMINATOR",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 6263,
                                    "src": "3765:28:27",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint8",
                                      "typeString": "uint8"
                                    }
                                  },
                                  "src": "3758:35:27",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  }
                                },
                                "src": "3745:48:27",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                }
                              }
                            ],
                            "id": 6510,
                            "isConstant": false,
                            "isInlineArray": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "TupleExpression",
                            "src": "3744:50:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "src": "3690:104:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "id": 6516,
                        "nodeType": "IfStatement",
                        "src": "3669:193:27",
                        "trueBody": {
                          "id": 6515,
                          "nodeType": "Block",
                          "src": "3809:53:27",
                          "statements": [
                            {
                              "errorCall": {
                                "arguments": [],
                                "expression": {
                                  "argumentTypes": [],
                                  "id": 6512,
                                  "name": "FeeTooLarge",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 8277,
                                  "src": "3834:11:27",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_function_error_pure$__$returns$_t_error_$",
                                    "typeString": "function () pure returns (error)"
                                  }
                                },
                                "id": 6513,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "kind": "functionCall",
                                "lValueRequested": false,
                                "nameLocations": [],
                                "names": [],
                                "nodeType": "FunctionCall",
                                "src": "3834:13:27",
                                "tryCall": false,
                                "typeDescriptions": {
                                  "typeIdentifier": "t_error",
                                  "typeString": "error"
                                }
                              },
                              "id": 6514,
                              "nodeType": "RevertStatement",
                              "src": "3827:20:27"
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            },
            "documentation": {
              "id": 6475,
              "nodeType": "StructuredDocumentation",
              "src": "3295:76:27",
              "text": "@dev Only the lower 12 bits are used here to encode the fee denominator."
            },
            "id": 6520,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "_checkProtocolFee",
            "nameLocation": "3385:17:27",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 6478,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6477,
                  "mutability": "mutable",
                  "name": "fee",
                  "nameLocation": "3410:3:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6520,
                  "src": "3403:10:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint16",
                    "typeString": "uint16"
                  },
                  "typeName": {
                    "id": 6476,
                    "name": "uint16",
                    "nodeType": "ElementaryTypeName",
                    "src": "3403:6:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint16",
                      "typeString": "uint16"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3402:12:27"
            },
            "returnParameters": {
              "id": 6479,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3429:0:27"
            },
            "scope": 6655,
            "src": "3376:502:27",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 6539,
              "nodeType": "Block",
              "src": "3972:115:27",
              "statements": [
                {
                  "expression": {
                    "id": 6530,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 6528,
                      "name": "protocolFeeController",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6281,
                      "src": "3982:21:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                        "typeString": "contract IProtocolFeeController"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "id": 6529,
                      "name": "controller",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6523,
                      "src": "4006:10:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                        "typeString": "contract IProtocolFeeController"
                      }
                    },
                    "src": "3982:34:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                      "typeString": "contract IProtocolFeeController"
                    }
                  },
                  "id": 6531,
                  "nodeType": "ExpressionStatement",
                  "src": "3982:34:27"
                },
                {
                  "eventCall": {
                    "arguments": [
                      {
                        "arguments": [
                          {
                            "id": 6535,
                            "name": "controller",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6523,
                            "src": "4068:10:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                              "typeString": "contract IProtocolFeeController"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                              "typeString": "contract IProtocolFeeController"
                            }
                          ],
                          "id": 6534,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "4060:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 6533,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "4060:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 6536,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "4060:19:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      ],
                      "id": 6532,
                      "name": "ProtocolFeeControllerUpdated",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 8287,
                      "src": "4031:28:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_event_nonpayable$_t_address_$returns$__$",
                        "typeString": "function (address)"
                      }
                    },
                    "id": 6537,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4031:49:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 6538,
                  "nodeType": "EmitStatement",
                  "src": "4026:54:27"
                }
              ]
            },
            "functionSelector": "2d771389",
            "id": 6540,
            "implemented": true,
            "kind": "function",
            "modifiers": [
              {
                "id": 6526,
                "kind": "modifierInvocation",
                "modifierName": {
                  "id": 6525,
                  "name": "onlyOwner",
                  "nameLocations": [
                    "3962:9:27"
                  ],
                  "nodeType": "IdentifierPath",
                  "referencedDeclaration": 6725,
                  "src": "3962:9:27"
                },
                "nodeType": "ModifierInvocation",
                "src": "3962:9:27"
              }
            ],
            "name": "setProtocolFeeController",
            "nameLocation": "3893:24:27",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 6524,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6523,
                  "mutability": "mutable",
                  "name": "controller",
                  "nameLocation": "3941:10:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6540,
                  "src": "3918:33:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                    "typeString": "contract IProtocolFeeController"
                  },
                  "typeName": {
                    "id": 6522,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 6521,
                      "name": "IProtocolFeeController",
                      "nameLocations": [
                        "3918:22:27"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 8881,
                      "src": "3918:22:27"
                    },
                    "referencedDeclaration": 8881,
                    "src": "3918:22:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                      "typeString": "contract IProtocolFeeController"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "3917:35:27"
            },
            "returnParameters": {
              "id": 6527,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3972:0:27"
            },
            "scope": 6655,
            "src": "3884:203:27",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 6593,
              "nodeType": "Block",
              "src": "4239:308:27",
              "statements": [
                {
                  "condition": {
                    "commonType": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "id": 6563,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "commonType": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "id": 6555,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "expression": {
                          "id": 6552,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4294967281,
                          "src": "4253:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 6553,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4257:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "4253:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "!=",
                      "rightExpression": {
                        "id": 6554,
                        "name": "owner",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6702,
                        "src": "4267:5:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "src": "4253:19:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "&&",
                    "rightExpression": {
                      "commonType": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "id": 6562,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "expression": {
                          "id": 6556,
                          "name": "msg",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4294967281,
                          "src": "4276:3:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_magic_message",
                            "typeString": "msg"
                          }
                        },
                        "id": 6557,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberLocation": "4280:6:27",
                        "memberName": "sender",
                        "nodeType": "MemberAccess",
                        "src": "4276:10:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "!=",
                      "rightExpression": {
                        "arguments": [
                          {
                            "id": 6560,
                            "name": "protocolFeeController",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6281,
                            "src": "4298:21:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                              "typeString": "contract IProtocolFeeController"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_contract$_IProtocolFeeController_$8881",
                              "typeString": "contract IProtocolFeeController"
                            }
                          ],
                          "id": 6559,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "4290:7:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_address_$",
                            "typeString": "type(address)"
                          },
                          "typeName": {
                            "id": 6558,
                            "name": "address",
                            "nodeType": "ElementaryTypeName",
                            "src": "4290:7:27",
                            "typeDescriptions": {}
                          }
                        },
                        "id": 6561,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "nameLocations": [],
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "4290:30:27",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "src": "4276:44:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "4253:67:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 6567,
                  "nodeType": "IfStatement",
                  "src": "4249:95:27",
                  "trueBody": {
                    "errorCall": {
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "id": 6564,
                        "name": "InvalidCaller",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6706,
                        "src": "4329:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_error_pure$__$returns$_t_error_$",
                          "typeString": "function () pure returns (error)"
                        }
                      },
                      "id": 6565,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "nameLocations": [],
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "4329:15:27",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_error",
                        "typeString": "error"
                      }
                    },
                    "id": 6566,
                    "nodeType": "RevertStatement",
                    "src": "4322:22:27"
                  }
                },
                {
                  "expression": {
                    "id": 6578,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 6568,
                      "name": "amountCollected",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6550,
                      "src": "4355:15:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "condition": {
                        "components": [
                          {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 6571,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 6569,
                              "name": "amount",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 6547,
                              "src": "4374:6:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "==",
                            "rightExpression": {
                              "hexValue": "30",
                              "id": 6570,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "4384:1:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            },
                            "src": "4374:11:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          }
                        ],
                        "id": 6572,
                        "isConstant": false,
                        "isInlineArray": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "TupleExpression",
                        "src": "4373:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      "falseExpression": {
                        "id": 6576,
                        "name": "amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6547,
                        "src": "4421:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "id": 6577,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "Conditional",
                      "src": "4373:54:27",
                      "trueExpression": {
                        "baseExpression": {
                          "id": 6573,
                          "name": "protocolFeesAccrued",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 6271,
                          "src": "4389:19:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$",
                            "typeString": "mapping(Currency => uint256)"
                          }
                        },
                        "id": 6575,
                        "indexExpression": {
                          "id": 6574,
                          "name": "currency",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 6545,
                          "src": "4409:8:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                            "typeString": "Currency"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "4389:29:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4355:72:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 6579,
                  "nodeType": "ExpressionStatement",
                  "src": "4355:72:27"
                },
                {
                  "expression": {
                    "id": 6584,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "id": 6580,
                        "name": "protocolFeesAccrued",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6271,
                        "src": "4437:19:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$",
                          "typeString": "mapping(Currency => uint256)"
                        }
                      },
                      "id": 6582,
                      "indexExpression": {
                        "id": 6581,
                        "name": "currency",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6545,
                        "src": "4457:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                          "typeString": "Currency"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "4437:29:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "-=",
                    "rightHandSide": {
                      "id": 6583,
                      "name": "amountCollected",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6550,
                      "src": "4470:15:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4437:48:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 6585,
                  "nodeType": "ExpressionStatement",
                  "src": "4437:48:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 6589,
                        "name": "recipient",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6542,
                        "src": "4513:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 6590,
                        "name": "amountCollected",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6550,
                        "src": "4524:15:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 6586,
                        "name": "currency",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6545,
                        "src": "4495:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                          "typeString": "Currency"
                        }
                      },
                      "id": 6588,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4504:8:27",
                      "memberName": "transfer",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 14412,
                      "src": "4495:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_userDefinedValueType$_Currency_$14262_$_t_address_$_t_uint256_$returns$__$attached_to$_t_userDefinedValueType$_Currency_$14262_$",
                        "typeString": "function (Currency,address,uint256)"
                      }
                    },
                    "id": 6591,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4495:45:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 6592,
                  "nodeType": "ExpressionStatement",
                  "src": "4495:45:27"
                }
              ]
            },
            "functionSelector": "8161b874",
            "id": 6594,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "collectProtocolFees",
            "nameLocation": "4102:19:27",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 6548,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6542,
                  "mutability": "mutable",
                  "name": "recipient",
                  "nameLocation": "4130:9:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6594,
                  "src": "4122:17:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 6541,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "4122:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 6545,
                  "mutability": "mutable",
                  "name": "currency",
                  "nameLocation": "4150:8:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6594,
                  "src": "4141:17:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                    "typeString": "Currency"
                  },
                  "typeName": {
                    "id": 6544,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 6543,
                      "name": "Currency",
                      "nameLocations": [
                        "4141:8:27"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 14262,
                      "src": "4141:8:27"
                    },
                    "referencedDeclaration": 14262,
                    "src": "4141:8:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                      "typeString": "Currency"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 6547,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "4168:6:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6594,
                  "src": "4160:14:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 6546,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4160:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4121:54:27"
            },
            "returnParameters": {
              "id": 6551,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6550,
                  "mutability": "mutable",
                  "name": "amountCollected",
                  "nameLocation": "4218:15:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6594,
                  "src": "4210:23:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 6549,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4210:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4209:25:27"
            },
            "scope": 6655,
            "src": "4093:454:27",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 6653,
              "nodeType": "Block",
              "src": "4695:337:27",
              "statements": [
                {
                  "assignments": [
                    6607
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 6607,
                      "mutability": "mutable",
                      "name": "hookAddress",
                      "nameLocation": "4713:11:27",
                      "nodeType": "VariableDeclaration",
                      "scope": 6653,
                      "src": "4705:19:27",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      },
                      "typeName": {
                        "id": 6606,
                        "name": "address",
                        "nodeType": "ElementaryTypeName",
                        "src": "4705:7:27",
                        "stateMutability": "nonpayable",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "visibility": "internal"
                    }
                  ],
                  "id": 6610,
                  "initialValue": {
                    "expression": {
                      "id": 6608,
                      "name": "msg",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4294967281,
                      "src": "4727:3:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_magic_message",
                        "typeString": "msg"
                      }
                    },
                    "id": 6609,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberLocation": "4731:6:27",
                    "memberName": "sender",
                    "nodeType": "MemberAccess",
                    "src": "4727:10:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4705:32:27"
                },
                {
                  "expression": {
                    "id": 6623,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 6611,
                      "name": "amountCollected",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6604,
                      "src": "4748:15:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "condition": {
                        "components": [
                          {
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 6614,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 6612,
                              "name": "amount",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 6601,
                              "src": "4767:6:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "==",
                            "rightExpression": {
                              "hexValue": "30",
                              "id": 6613,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "4777:1:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            },
                            "src": "4767:11:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          }
                        ],
                        "id": 6615,
                        "isConstant": false,
                        "isInlineArray": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "TupleExpression",
                        "src": "4766:13:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      "falseExpression": {
                        "id": 6621,
                        "name": "amount",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6601,
                        "src": "4823:6:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "id": 6622,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "Conditional",
                      "src": "4766:63:27",
                      "trueExpression": {
                        "baseExpression": {
                          "baseExpression": {
                            "id": 6616,
                            "name": "hookFeesAccrued",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6278,
                            "src": "4782:15:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$_$",
                              "typeString": "mapping(address => mapping(Currency => uint256))"
                            }
                          },
                          "id": 6618,
                          "indexExpression": {
                            "id": 6617,
                            "name": "hookAddress",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 6607,
                            "src": "4798:11:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "4782:28:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$",
                            "typeString": "mapping(Currency => uint256)"
                          }
                        },
                        "id": 6620,
                        "indexExpression": {
                          "id": 6619,
                          "name": "currency",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 6599,
                          "src": "4811:8:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                            "typeString": "Currency"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "4782:38:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4748:81:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 6624,
                  "nodeType": "ExpressionStatement",
                  "src": "4748:81:27"
                },
                {
                  "expression": {
                    "id": 6636,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "id": 6625,
                      "name": "recipient",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6596,
                      "src": "4839:9:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "condition": {
                        "components": [
                          {
                            "commonType": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            "id": 6631,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "id": 6626,
                              "name": "recipient",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 6596,
                              "src": "4852:9:27",
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "==",
                            "rightExpression": {
                              "arguments": [
                                {
                                  "hexValue": "30",
                                  "id": 6629,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "kind": "number",
                                  "lValueRequested": false,
                                  "nodeType": "Literal",
                                  "src": "4873:1:27",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_rational_0_by_1",
                                    "typeString": "int_const 0"
                                  },
                                  "value": "0"
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_rational_0_by_1",
                                    "typeString": "int_const 0"
                                  }
                                ],
                                "id": 6628,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "lValueRequested": false,
                                "nodeType": "ElementaryTypeNameExpression",
                                "src": "4865:7:27",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_address_$",
                                  "typeString": "type(address)"
                                },
                                "typeName": {
                                  "id": 6627,
                                  "name": "address",
                                  "nodeType": "ElementaryTypeName",
                                  "src": "4865:7:27",
                                  "typeDescriptions": {}
                                }
                              },
                              "id": 6630,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "typeConversion",
                              "lValueRequested": false,
                              "nameLocations": [],
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "4865:10:27",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_address",
                                "typeString": "address"
                              }
                            },
                            "src": "4852:23:27",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          }
                        ],
                        "id": 6632,
                        "isConstant": false,
                        "isInlineArray": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "TupleExpression",
                        "src": "4851:25:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      "falseExpression": {
                        "id": 6634,
                        "name": "recipient",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6596,
                        "src": "4893:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "id": 6635,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "Conditional",
                      "src": "4851:51:27",
                      "trueExpression": {
                        "id": 6633,
                        "name": "hookAddress",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6607,
                        "src": "4879:11:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_address",
                        "typeString": "address"
                      }
                    },
                    "src": "4839:63:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "id": 6637,
                  "nodeType": "ExpressionStatement",
                  "src": "4839:63:27"
                },
                {
                  "expression": {
                    "id": 6644,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "baseExpression": {
                        "baseExpression": {
                          "id": 6638,
                          "name": "hookFeesAccrued",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 6278,
                          "src": "4913:15:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_address_$_t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$_$",
                            "typeString": "mapping(address => mapping(Currency => uint256))"
                          }
                        },
                        "id": 6641,
                        "indexExpression": {
                          "id": 6639,
                          "name": "hookAddress",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 6607,
                          "src": "4929:11:27",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "4913:28:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_userDefinedValueType$_Currency_$14262_$_t_uint256_$",
                          "typeString": "mapping(Currency => uint256)"
                        }
                      },
                      "id": 6642,
                      "indexExpression": {
                        "id": 6640,
                        "name": "currency",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6599,
                        "src": "4942:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                          "typeString": "Currency"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "4913:38:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "-=",
                    "rightHandSide": {
                      "id": 6643,
                      "name": "amountCollected",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 6604,
                      "src": "4955:15:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4913:57:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 6645,
                  "nodeType": "ExpressionStatement",
                  "src": "4913:57:27"
                },
                {
                  "expression": {
                    "arguments": [
                      {
                        "id": 6649,
                        "name": "recipient",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6596,
                        "src": "4998:9:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      {
                        "id": 6650,
                        "name": "amountCollected",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6604,
                        "src": "5009:15:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        },
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "id": 6646,
                        "name": "currency",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 6599,
                        "src": "4980:8:27",
                        "typeDescriptions": {
                          "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                          "typeString": "Currency"
                        }
                      },
                      "id": 6648,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberLocation": "4989:8:27",
                      "memberName": "transfer",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 14412,
                      "src": "4980:17:27",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_nonpayable$_t_userDefinedValueType$_Currency_$14262_$_t_address_$_t_uint256_$returns$__$attached_to$_t_userDefinedValueType$_Currency_$14262_$",
                        "typeString": "function (Currency,address,uint256)"
                      }
                    },
                    "id": 6651,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "nameLocations": [],
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4980:45:27",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 6652,
                  "nodeType": "ExpressionStatement",
                  "src": "4980:45:27"
                }
              ]
            },
            "functionSelector": "effd18c0",
            "id": 6654,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "collectHookFees",
            "nameLocation": "4562:15:27",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 6602,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6596,
                  "mutability": "mutable",
                  "name": "recipient",
                  "nameLocation": "4586:9:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6654,
                  "src": "4578:17:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 6595,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "4578:7:27",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 6599,
                  "mutability": "mutable",
                  "name": "currency",
                  "nameLocation": "4606:8:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6654,
                  "src": "4597:17:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                    "typeString": "Currency"
                  },
                  "typeName": {
                    "id": 6598,
                    "nodeType": "UserDefinedTypeName",
                    "pathNode": {
                      "id": 6597,
                      "name": "Currency",
                      "nameLocations": [
                        "4597:8:27"
                      ],
                      "nodeType": "IdentifierPath",
                      "referencedDeclaration": 14262,
                      "src": "4597:8:27"
                    },
                    "referencedDeclaration": 14262,
                    "src": "4597:8:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_userDefinedValueType$_Currency_$14262",
                      "typeString": "Currency"
                    }
                  },
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 6601,
                  "mutability": "mutable",
                  "name": "amount",
                  "nameLocation": "4624:6:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6654,
                  "src": "4616:14:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 6600,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4616:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4577:54:27"
            },
            "returnParameters": {
              "id": 6605,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 6604,
                  "mutability": "mutable",
                  "name": "amountCollected",
                  "nameLocation": "4674:15:27",
                  "nodeType": "VariableDeclaration",
                  "scope": 6654,
                  "src": "4666:23:27",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 6603,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "4666:7:27",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "visibility": "internal"
                }
              ],
              "src": "4665:25:27"
            },
            "scope": 6655,
            "src": "4553:479:27",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 6656,
        "src": "578:4456:27",
        "usedErrors": [
          6706,
          8277,
          8280,
          8283,
          14365,
          14368
        ],
        "usedEvents": [
          6713,
          8287
        ]
      }
    ],
    "src": "45:4990:27"
  },
  "compiler": {
    "name": "solc",
    "version": "0.8.28+commit.7893614a.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.4.12",
  "updatedAt": "2024-12-18T07:36:00.850Z",
  "devdoc": {
    "events": {
      "OwnerChanged(address,address)": {
        "params": {
          "newOwner": "The owner after the owner was changed",
          "oldOwner": "The owner before the owner was changed"
        }
      }
    },
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "errors": {
      "ERC20TransferFailed()": [
        {
          "notice": "Thrown when an ERC20 transfer fails"
        }
      ],
      "FeeNotDynamic()": [
        {
          "notice": "Thrown when a pool does not have a dynamic fee."
        }
      ],
      "FeeTooLarge()": [
        {
          "notice": "Thrown when the protocol fee denominator is less than 4. Also thrown when the static or dynamic fee on a pool is exceeds 100%."
        }
      ],
      "NativeTransferFailed()": [
        {
          "notice": "Thrown when a native transfer fails"
        }
      ],
      "ProtocolFeeCannotBeFetched()": [
        {
          "notice": "Thrown when not enough gas is provided to look up the protocol fee"
        }
      ]
    },
    "events": {
      "OwnerChanged(address,address)": {
        "notice": "Emitted when the owner of the factory is changed"
      }
    },
    "kind": "user",
    "methods": {
      "MIN_PROTOCOL_FEE_DENOMINATOR()": {
        "notice": "Returns the minimum denominator for the protocol fee, which restricts it to a maximum of 25%"
      },
      "hookFeesAccrued(address,address)": {
        "notice": "Given a hook and a currency address, returns the fees accrued"
      },
      "protocolFeesAccrued(address)": {
        "notice": "Given a currency address, returns the protocol fees accrued in that currency"
      }
    },
    "version": 1
  }
}